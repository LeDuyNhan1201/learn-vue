/* ---------------------------------------------------------
   CSS VARIABLES — nơi định nghĩa toàn bộ màu sắc, spacing,
   typography dùng chung toàn project.
   Dễ maintain và tạo theme sau này.
--------------------------------------------------------- */
:root {
    /* Typography */
    --font-base: system-ui, Avenir, Helvetica, Arial, sans-serif;
    --font-size-base: 16px;
    --font-weight-base: 500;
    --font-weight-bold: 700;
    --line-height-base: 1.5;

    /* Spacing scale (sử dụng như Tailwind spacing) */
    --space-1: 0.25rem;
    --space-2: 0.5rem;
    --space-3: 0.75rem;
    --space-4: 1rem;
    --space-5: 1.25rem;
    --space-6: 1.5rem;
    --space-8: 2rem;

    --kaban-w-compact: 320px;
    --kaban-w-normal: 360px;
    --kaban-w-wide: 400px;

    /* Border radius thường dùng */
    --radius-sm: 4px;
    --radius-md: 8px;

    /* Color palette (light theme) */
    --color-text: #1a1a1a;
    --color-text-muted: #555;
    --color-bg: #ffffff;
    --color-border: #e3e3e3;
    --color-error-msg: #ef4444;
    --color-error-bg: #fff5f5;

    /* Brand colors */
    --color-primary: #646cff;
    --color-primary-hover: #535bf2;

    /* Button & card BG */
    --color-surface: #f7f7f7;

    /* For dark mode */
    color-scheme: light dark; /* Cho browser biết hỗ trợ dark/light mode */

    --box-shadow-text-box: 0 0 0 3px rgba(99, 102, 241, 0.25);

    --row-height: calc(var(--space-6) + var(--space-4) * 2);
    --header-height: calc(var(--space-6) + var(--space-4) * 2);
}

/* ---------------------------------------------------------
   DARK MODE — tự động kích hoạt theo OS
--------------------------------------------------------- */
@media (prefers-color-scheme: dark) {
    :root {
        --color-text: rgba(255, 255, 255, 0.87);
        --color-bg: #242424;
        --color-surface: #1a1a1a;
        --color-primary-hover: #747bff;
    }
}

/* ---------------------------------------------------------
   GLOBAL RESET — minimal, modern, không phá layout
--------------------------------------------------------- */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box; /* tránh overflow & bug layout */
}

/* ---------------------------------------------------------
   GLOBAL BODY STYLES
--------------------------------------------------------- */
body {
    font-family: var(--font-base), ui-monospace;
    font-size: var(--font-size-base);
    line-height: var(--line-height-base);

    background-color: var(--color-bg);
    color: var(--color-text);

    text-rendering: optimizeLegibility; /* tăng độ rõ chữ */
    -webkit-font-smoothing: antialiased; /* đẹp hơn trên mac */
    -moz-osx-font-smoothing: grayscale;
}

/* ---------------------------------------------------------
   GLOBAL SCROLLBAR (Chrome, Edge, Safari)
--------------------------------------------------------- */
* {
    scrollbar-width: thin;              /* Firefox */
    scrollbar-color: var(--color-border) transparent;      /* Firefox */
}

/* width */
*::-webkit-scrollbar {
    width: 8px;
    height: 8px;
}

/* Track */
*::-webkit-scrollbar-track {
    background: var(--color-border);
}

/* Handle */
*::-webkit-scrollbar-thumb {
    background: var(--color-surface);
    border-radius: 8px;
}

/* Handle on hover */
*::-webkit-scrollbar-thumb:hover {
    background: var(--color-text-muted);
}

@media (prefers-color-scheme: dark) {
    *::-webkit-scrollbar-thumb {
        background: var(--color-text-muted);
    }
    *::-webkit-scrollbar-track {
        background: var(--color-text);
    }

    * {
        scrollbar-color: var(--color-text-muted) var(--color-text);
    }
}

/* ---------------------------------------------------------
   LINK STYLE — phù hợp cho UI hiện đại
--------------------------------------------------------- */
a {
    font-weight: 500;
    color: var(--color-primary);
    text-decoration: none;
    cursor: pointer;
}

a:hover {
    color: var(--color-primary-hover);
}

/* ---------------------------------------------------------
   BUTTON BASE — apply cho mọi button (nếu muốn)
--------------------------------------------------------- */
button {
    border: 1px solid transparent;
    padding: var(--space-3) var(--space-4);
    font-size: 1rem;
    font-weight: var(--font-weight-base);

    background-color: var(--color-surface);
    cursor: pointer;
    transition: border-color .25s ease, background .25s ease;
}

button:hover {
    background-color: var(--color-primary-hover);
    font-weight: var(--font-weight-bold);
    color: white;
}

/*button:focus,*/
/*button:focus-visible {*/
/*    outline: 4px auto Highlight; !* native highlight *!*/
/*}*/

/* ---------------------------------------------------------
   UTILITY CLASSES — dùng như Tailwind mini set
--------------------------------------------------------- */
.card {
    padding: var(--space-4);
    background: var(--color-surface);
    border-radius: var(--radius-md);
    border: 1px solid var(--color-border);
}

/* ---------------------------------------------------------
   APP ROOT — KHÔNG GIỚI HẠN WIDTH
--------------------------------------------------------- */
#app {
    width: 100%;
    min-height: 100vh; /* Full viewport */
}

.error-msg {
    color: var(--color-error-msg);
}
